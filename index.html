<!DOCTYPE html>
<html>
<head>
    <title>Character Creation</title>
    <link rel="stylesheet" href="dark-fantasy.css">
    <link rel="stylesheet" href="layout.css">
</head>
<body>
    <main id="character-select-screen">
        <header>
            <h3 class="heading">Select Character</h3>
        </header>

        <section id="character-slots-container" class="card" role="list">
            <!-- Character slots dynamically generated here -->
        </section>

        <nav class="action-buttons" aria-label="Character management actions">
            <button id="delete-mode-btn" class="btn">Delete Character</button>
            <button id="export-mode-btn" class="btn">Export Character</button>
            <button id="import-mode-btn" class="btn">Import Character</button>
        </nav>

        <aside id="mode-instruction" style="display: none;" aria-live="polite">
            <p id="instruction-text"></p>
            <button id="mode-back-btn" class="btn">Back</button>
        </aside>
    </main>

    <section id="character-creator-screen" style="display: none;">
        <div class="creator-form-section card">
            <header>
                <h3 class="heading">Character Creation</h3>
            </header>

            <form id="character-creation-form">
                <fieldset class="form-group">
                    <label for="character-name">Enter your name:</label>
                    <input id="character-name" name="character-name" type="text" class="form-input"></input>
                    <div id="name-error" class="error-message">Name must be 1-14 letters, spaces, or underscores.</div>
                </fieldset>

                <fieldset class="form-group">
                    <label for="character-class">Choose your class:</label>
                    <select id="character-class" name="character-class" class="form-input">
                        <option value="warrior">Warrior</option>
                        <option value="mage">Mage</option>
                        <option value="rogue">Rogue</option>
                    </select>
                </fieldset>

                <fieldset class="form-group">
                    <label>Appearance Color:</label>
                    <div class="custom-color-picker">
                        <div class="color-preview card" id="color-preview" style="background-color: #0000ff;"></div>
                        <input id="appearance-color" name="appearance-color" type="color" value="#0000ff" style="display: none;">
                    </div>
                </fieldset>

                <button type="submit" class="btn btn-primary">Create Character</button>
            </form>

            <footer class="form-actions">
                <button id="character-creator-back-button" class="btn">Back</button>
            </footer>
        </div>
        <div class="creator-preview-section">
            <div id="character-preview" class="card">
                <h3>Your Character</h3>
                <div id="character-info">
                    <h4 class="section-header">Class: <span id="preview-class"></span></h4>
                    <p><span id="preview-class-description"></span></p>
                </div>
        
                <h4 class="section-header">Attributes:</h4>
                <table id="stats-table">
                    <tr><td>Constitution:</td><td id="stat-constitution"></td></tr>
                    <tr><td>Strength:</td><td id="stat-strength"></td></tr>
                    <tr><td>Mind:</td><td id="stat-mind"></td></tr>
                    <tr><td>Agility:</td><td id="stat-agility"></td></tr>
                    <tr><td>Defense:</td><td id="stat-defense"></td></tr>
                </table>

                <div id="appearance-preview">
                    <h4 style="margin-bottom: 0; margin-top:20px;">Appearance:</h4>
                    <div class="color-display" id="appearance-color-preview"></div>
                </div>
            </div>
        </div>
    </section>

    <script type="module" src="dist/main.js"></script>
</body>
</html>